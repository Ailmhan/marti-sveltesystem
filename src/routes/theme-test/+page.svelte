<script lang="ts">
	import { themeStore, currentTheme, isDark } from '$lib/stores/theme';
</script>

<svelte:head>
	<title>–¢–µ—Å—Ç —Ç–µ–º—ã</title>
</svelte:head>

<div class="theme-test-page">
	<h1>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ç–µ–º</h1>
	
	<div class="theme-info">
		<h2>–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:</h2>
		<p><strong>–¢–µ–º–∞:</strong> {$currentTheme}</p>
		<p><strong>–¢–µ–º–Ω–∞—è:</strong> {$isDark ? '–î–∞' : '–ù–µ—Ç'}</p>
		<p><strong>HTML –∫–ª–∞—Å—Å:</strong> {typeof document !== 'undefined' ? document.documentElement.className : 'N/A'}</p>
	</div>

	<div class="theme-controls">
		<h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–æ–π:</h2>
		<button on:click={() => themeStore.setTheme('light')} class="btn btn-light">
			‚òÄÔ∏è –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞
		</button>
		<button on:click={() => themeStore.setTheme('dark')} class="btn btn-dark">
			üåô –¢–µ–º–Ω–∞—è —Ç–µ–º–∞
		</button>
		<button on:click={() => themeStore.setTheme('system')} class="btn btn-system">
			üñ•Ô∏è –°–∏—Å—Ç–µ–º–Ω–∞—è —Ç–µ–º–∞
		</button>
		<button on:click={() => themeStore.toggleTheme()} class="btn btn-toggle">
			üîÑ –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å
		</button>
		<button on:click={() => themeStore.cycleTheme()} class="btn btn-cycle">
			üîÑ –¶–∏–∫–ª–∏—á–Ω–æ
		</button>
	</div>

	<div class="theme-preview">
		<h2>–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä:</h2>
		<div class="preview-card">
			<h3>–ö–∞—Ä—Ç–æ—á–∫–∞</h3>
			<p>–≠—Ç–æ –ø—Ä–∏–º–µ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Å—Ç–∏–ª–µ–π —Ç–µ–º—ã.</p>
			<button class="btn btn-primary">–ö–Ω–æ–ø–∫–∞</button>
		</div>
	</div>

	<div class="debug-info">
		<h2>–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</h2>
		<pre>{JSON.stringify({
			theme: $currentTheme,
			isDark: $isDark,
			htmlClass: typeof document !== 'undefined' ? document.documentElement.className : 'N/A',
			localStorage: typeof localStorage !== 'undefined' ? localStorage.getItem('theme') : 'N/A',
			userAgent: typeof navigator !== 'undefined' ? navigator.userAgent : 'N/A'
		}, null, 2)}</pre>
	</div>
</div>

<style>
	.theme-test-page {
		padding: 2rem;
		max-width: 800px;
		margin: 0 auto;
	}

	.theme-info, .theme-controls, .theme-preview, .debug-info {
		margin-bottom: 2rem;
		padding: 1.5rem;
		border: 1px solid var(--border-color);
		border-radius: 0.5rem;
		background: var(--bg-secondary);
	}

	.theme-controls {
		display: flex;
		flex-wrap: wrap;
		gap: 1rem;
	}

	.btn {
		padding: 0.75rem 1.5rem;
		border: none;
		border-radius: 0.5rem;
		cursor: pointer;
		font-weight: 600;
		transition: all 0.3s ease;
	}

	.btn-light {
		background: #fbbf24;
		color: #1f2937;
	}

	.btn-dark {
		background: #7c3aed;
		color: white;
	}

	.btn-system {
		background: #10b981;
		color: white;
	}

	.btn-toggle {
		background: #ef4444;
		color: white;
	}

	.btn-cycle {
		background: #8b5cf6;
		color: white;
	}

	.btn-primary {
		background: var(--accent-color);
		color: white;
	}

	.btn:hover {
		transform: translateY(-2px);
		box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
	}

	.preview-card {
		padding: 1.5rem;
		border: 1px solid var(--border-color);
		border-radius: 0.5rem;
		background: var(--bg-primary);
	}

	.debug-info pre {
		background: var(--bg-primary);
		padding: 1rem;
		border-radius: 0.5rem;
		overflow-x: auto;
		font-size: 0.875rem;
		border: 1px solid var(--border-color);
	}

	h1, h2, h3 {
		color: var(--text-primary);
		margin-bottom: 1rem;
	}

	p {
		color: var(--text-secondary);
		margin-bottom: 0.5rem;
	}
</style>
